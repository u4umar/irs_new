{"version":3,"sources":["contactForm.behaviors.js","irsjobs.behaviors.js","irsjobsAccessibleNav.behaviors.js","irsjobsGoogleAnalyticsEvents.behaviors.js","matchHeight.behaviors.js","mobileNav.behaviors.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"irsjobs.behaviors.js","sourcesContent":["(function ($) {\n  // Contact Form Behavior\n  //\n  // Moves the Webform: Contact the IRS block from the Postscript First region\n  // to outside the page container, add the form close button, and handles the\n  // slideout animation using jQuery.animate().\n  Drupal.behaviors.irsjobsContactForm = {\n    attach: function(context, settings) {\n      var form = $('#block-webform-client-block-404');\n\n      if (form.length > 0) {\n        // Tablet breakpoint must match $tablet in Sass\n        var breakpoint = 720; // px\n\n        var page = $('.l-page');\n        var close =\n          $('<div>').addClass('close-slideout')\n          .css({\n            \"position\": \"absolute\",\n            \"top\":      \"2em\",\n            \"right\":    \"2em\",\n            \"display\":  \"block\"\n          }).append($('<img>').attr('src', '/sites/default/themes/irsjobs/images/icons/close.png'));\n\n        // Mobile devices\n        if ($(window).width() <= breakpoint) {\n          var mobileForm = form.addClass('slideout mobile').append($(close));\n\n          // Bind close action\n          close.bind(\"click\", function() {\n            mobileForm.css({\n              'transform': 'translateX(-100%)'\n            });\n          });\n\n          // Add form to page\n          page.after(mobileForm);\n        }\n\n        // Laptops and Desktops\n        else {\n          // Bind close action\n          close.bind(\"click\", function() {\n            page.animate({\n              left: parseInt(page.css('left'),10) == 0 ? - form.outerWidth() : 0\n            });\n          });\n\n          // Add form to page\n          page.css({\n            'position': 'relative',\n            'left':     0,\n            'z-index':  1\n          }).after(form.addClass('slideout').css({\n            'position':   'fixed',\n            'z-index':    0,\n            'right':      0,\n            'top':        ($('#toolbar').length) ? parseInt($('#toolbar').outerHeight()) : 0,\n            'width':      '425px',\n            'padding':    '2em',\n            'height':     '100%',\n            'box-shadow': 'inset 5px 0 10px rgba(0,0,0,.5)'\n          }).append($(close)));\n\n          $('a#contact-form').bind('click', function(event) {\n            event.preventDefault();\n            page.animate({\n              left: parseInt(page.css('left'),10) == 0 ? - form.outerWidth() : 0\n            });\n          });\n\n          $(form).submit(function() {\n            disableInputs(form);\n            setTimeout(function() { enableInputs(form) }, 7000);\n          });\n\n          var disableInputs = function(form) {\n            $(form).find(\":input\").each(function() {\n              var formElement = $(this);\n              if(formElement.attr('type') === 'submit') {\n                if(!formElement.attr('disabled')) {\n                  formElement.attr(\"disabled\", true).addClass(\"temporarily-disabled\");\n                }\n              } else {\n                if(!formElement.attr('readonly')) {\n                  formElement.attr(\"readonly\", true).addClass(\"temporarily-readonly\");\n                }\n              }\n            });\n          };\n          var enableInputs = function(form) {\n            $(form).find(\".temporarily-disabled\").removeAttr(\"disabled\").removeClass(\"temporarily-disabled\");\n            $(form).find(\".temporarily-readonly\").removeAttr(\"readonly\").removeClass(\"temporarily-readonly\");\n          };\n        }\n      }\n    }\n  };\n\n\n\n})(jQuery);\n","/**\n * JavaScript pertaining to career path fit check calculator on the front page\n * is handled in infobox_packed.js.\n */\n\n(function ($) {\n  // Tablet breakpoint must match $tablet in Sass\n  var breakpoint = 720; // px\n\n  // Creates GoogleMap object using XML data to draw the state boundaries,\n  // and pins the regional office locations using an pin image asset.\n  function GoogleMap() {\n    /* Properties */\n    var obj     = this;\n    obj.mapID   = null;\n    obj.dataSet = null;\n\n    /* Methods */\n    obj.generateMap = function() {\n      var marker = null;\n      var markerCoords = [];\n      var markerActive = null;\n      var infoWindowActive = null;\n      var mapTypeStyle = \"irsjobsoffices\";\n      var mapOptions = {\n        backgroundColor:        \"#f6f6f4\",\n        center:                 new google.maps.LatLng(38,-93.4),\n        disableDoubleClickZoom: true,\n        draggable:              false,\n        zoom:                   4,\n        minZoom:                4,\n        maxZoom:                4,\n        disableDefaultUI:       true,\n        styles:                 [],\n        mapTypeControlOptions: {\n          mapTypeIds:[google.maps.MapTypeId.ROADMAP,mapTypeStyle]\n        },\n        mapTypeId:              mapTypeStyle\n      };\n\n      var polyFill;\n      var map = new google.maps.Map(document.getElementById(obj.mapID), mapOptions);\n\n      //Geocode Data provided in the fields with the class of addr\n      $(obj.dataSet).find('[data-geoaddress]').each(function(i) {\n        var strLocationTitle = $(this).text();\n        var strDestination   = $(this).parent('a').attr('href');\n        var locationType     = $(this).attr('data-officetype');\n\n        var address = $(this).attr('data-geoaddress').replace(/(<([^>]+)>)/ig,\"\");\n        address     = encodeURIComponent(address);\n\n        var geocode = \"http://maps.googleapis.com/maps/api/geocode/json?address=\"+address+\"&sensor=false\";\n        var intRequestCount = 0;\n\n        $.ajax({\n          url:        geocode,\n          async:      false,\n          beforeSend: function() {\n            setTimeout(function() {},2500);\n          },\n          success: function(response) {\n            if (response.status == \"OK\") {\n              responseLat = response.results[0].geometry.location.lat;\n              responseLng = response.results[0].geometry.location.lng;\n              var imgIcon = \"/sites/default/themes/irsjobs/images/icons/map-default.png\";\n              var objBoxStyle = {\n                width: \"200px\",\n                height:\"30px\",\n                color:\"#fff\",\n                \"font-family\":\"'museo-slab',Georgia, serif\",\n                \"text-align\":\"center\",\n                \"line-height\":\"30px\",\n                background: \"#4b4f56\",\n                \"border-radius\":\"5px\"\n              };\n\n              if (locationType.length && locationType.match(/\\bregional\\b/gi)) {\n                imgIcon = \"/sites/default/themes/irsjobs/images/icons/map-regional.png\";\n                objBoxStyle = {\n                  width: \"200px\",\n                  height:\"30px\",\n                  color:\"#fff\",\n                  \"font-family\":\"'museo-slab',Georgia, serif\",\n                  \"text-align\":\"center\",\n                  \"line-height\":\"30px\",\n                  background: \"#96ce4d\",\n                  \"border-radius\":\"5px\"\n                }\n              }\n\n              marker = new google.maps.Marker({\n                map: map,\n                draggable:false,\n                animation: google.maps.Animation.DROP,\n                position: new google.maps.LatLng(responseLat,responseLng),\n                icon:imgIcon,\n                objTitle:strLocationTitle,\n                objStyle:objBoxStyle,\n                objDestination:strDestination/*\n                objDOM:eleTarget*/\n              });\n            }\n\n            markerCoords.push(marker);\n          }\n        });\n      });\n\n      // Set Marker Interactions\n      for(var i = 0; i<markerCoords.length; i++){\n        /* Hover Interaction */\n        google.maps.event.addListener(markerCoords[i], 'mouseover', function() {\n          var infoTitle = \"Location Title to Come\";\n          infoBox = new InfoBox({\n            content: this.objTitle,\n            disableAutoPan: true,\n            maxWidth: 200,\n            pixelOffset: new google.maps.Size(-100, -60),\n            zIndex: null,\n            boxStyle: this.objStyle,\n            closeBoxMargin: \"\",\n            closeBoxURL: \"\",\n            infoBoxClearance: new google.maps.Size(1,1)\n          });\n\n          infoBox.open(map, this);\n        });\n\n        google.maps.event.addListener(markerCoords[i], 'mouseout', function() {\n          infoBox.close();\n        });\n\n        /* Click Interaction */\n        google.maps.event.addListener(markerCoords[i], 'click', function(){\n          window.location.href = this.objDestination;\n        });\n      }\n\n      // Read in and populate the polygons for all of the State boundaries\n      // documented in /crs/core/js/xml/states.xml,\n      // provided by http://econym.org.uk/gmap/states.xml\n      $.ajax({\n        url: \"/sites/default/themes/irsjobs/xml/states.xml\",\n        success: function(response) {\n          var data = $(response);\n          $(data).find('state').each(function() {\n            var coordinates = new Array();\n            var statePoly = $(this);\n\n            $(statePoly).find('point').each(function() {\n              var lat = $(this).attr('lat');\n              var lng = $(this).attr('lng');\n              coordinates.push(new google.maps.LatLng(lat,lng));\n            });\n\n            polyFill = new google.maps.Polygon({\n              paths:         coordinates,\n              strokeColor:   \"#ffffff\",\n              strokeOpacity: 1.0,\n              strokeWeight:  1,\n              fillColor:     \"#cbcbca\",\n              fillOpacity:   1.0\n            });\n\n            polyFill.setMap(map);\n          });\n        }\n      });\n    }\n\n    obj.initialize = function(eleCur) {\n      obj.mapID = $(eleCur).attr('id');\n      obj.dataSet = $('.office-locations.interactive-map.list .location-dataset');\n      obj.generateMap();\n    }\n  }\n\n  // Google Map Behavior\n  //\n  // Renders the interactive GoogleMap located on the About Us page.\n  Drupal.behaviors.irsjobsGoogleMap = {\n    attach: function(context, settings) {\n      if ($('#regional-office-map').length\n      &&  $('#regional-office-map').hasClass('google-map')) {\n        var gmap = new GoogleMap();\n        gmap.initialize($('#regional-office-map'));\n      }\n    }\n  };\n\n  // Card Flip Behavior\n  //\n  // If flippable cards are found on the page then a toggler element is added\n  // to append .flipped to the element on a user click. .flipped is removed on\n  // when the mouse leaves the element.\n  Drupal.behaviors.irsjobsInteractionCardFlip = {\n    attach: function(context, settings) {\n      var flippableElements = $('.flip');\n\n      if (flippableElements.length > 0) {\n        flippableElements.each(function() {\n          var elementToggler =\n            $('<div class=\"toggler\">+</div>')\n            .unbind()\n            .bind('click', function() {\n              var card =\n                $(this).parents('.flip')\n                       .find('.card');\n\n              $(card).toggleClass('flipped')\n                .one('mouseleave', function() {\n                  $(card).toggleClass('flipped');\n                });\n            });\n\n          $(this).find('.card .front').append(elementToggler);\n        });\n      }\n    }\n  };\n\n  // Exposed Filter Collapse Behavior\n  //\n  // Collapses the exposed filter block on career pages when the block\n  // title is clicked.\n  Drupal.behaviors.irsjobsExposedFilterCollapse = {\n    attach: function(context, settings) {\n      if($('#block-views-exp-usajobs-page-1').length\n      || $('#block-views-exp-usajobs-page-2').length\n      || $('#block-views-exp-usajobs-page-3').length\n      || $('#block-views-exp-usajobs-page-4').length\n      || $('#block-views-exp-gs-schedules-page').length) {\n        var filterTitles = \"#block-views-exp-usajobs-page-1 .block__title, \"\n                         + \"#block-views-exp-usajobs-page-2 .block__title, \"\n                         + \"#block-views-exp-usajobs-page-3 .block__title, \"\n                         + \"#block-views-exp-usajobs-page-4 .block__title, \"\n                         + \"#block-views-exp-gs-schedules-page .block__title\";\n\n        var filterBodies = \"#block-views-exp-usajobs-page-1 .block__content, \"\n                         + \"#block-views-exp-usajobs-page-2 .block__content, \"\n                         + \"#block-views-exp-usajobs-page-3 .block__content, \"\n                         + \"#block-views-exp-usajobs-page-4 .block__content, \"\n                         + \"#block-views-exp-gs-schedules-page .block__content\";\n\n        // $('.block--views-exp-usajobs-page-1 .block__content').hide(1000);\n        $(filterBodies).toggle(\"blind\", 500);\n        $(filterTitles).toggleClass(\"collapsed\");\n        // Due to Drupal Behaviors reloading on dynamic Ajax events we always\n        // unbind any previous functionality.\n        $(filterTitles).unbind().bind('click', function() {\n          $(filterBodies).toggle(\"blind\", 500);\n          $(this).toggleClass(\"collapsed\");\n        });\n      }\n    }\n  };\n\n  // Careers Filter Display Actions Behavior\n  //\n  // Displays the action items in the career pages filter results. The\n  // results assume no JavaScript is enabled by adding a .no-js to\n  // .action-items.\n  Drupal.behaviors.irsjobsCareersFilterDisplayActions = {\n    attach: function(context, settings) {\n      setTimeout(function() {\n        if ($('.USAJobs.page.by-date').length\n        &&  $('.actions ul.action-items').length) {\n          $('.actions ul.action-items').removeClass('no-js');\n\n          // Due to Drupal Behaviors reloading on dynamic Ajax events\n          // we always unbind any previous functionality.\n          $(\".actions ul.action-items li.social-sharing\")\n            .addClass('toggle')\n            .unbind()\n            .bind('click', function() {\n              var tableRow = $(this).parent().parent().parent();\n              $(tableRow).toggleClass('sharethis-open');\n            });\n        }\n      }, 500);\n    }\n  };\n\n\n  Drupal.behaviors.irsjobsFilterCollapseToggler = {\n    attach:function(context,settings){\n      if($('#block-views-exp-usajobs-page-1').length || $('#block-views-exp-usajobs-page-2').length || $('#block-views-exp-usajobs-page-3').length || $('#block-views-exp-usajobs-page-4').length || $('#block-views-exp-gs-schedules-page').length){\n          // Due to Drupal Behaviors reloading on dynamic Ajax events we always unbind any previous functionality\n          $(\"#block-views-exp-usajobs-page-1 .block-title, #block-views-exp-usajobs-page-2 .block-title,#block-views-exp-usajobs-page-3 .block-title, #block-views-exp-usajobs-page-4 .block-title, #block-views-exp-gs-schedules-page .block-title\" ).unbind().bind('click',function(){\n            $(\"#block-views-exp-usajobs-page-1 .content, #block-views-exp-usajobs-page-2 .content, #block-views-exp-usajobs-page-3 .content, #block-views-exp-usajobs-page-4 .content, #block-views-exp-gs-schedules-page .content\").toggle(\"blind\", 500);\n          });\n      }\n    }\n  };\n  Drupal.behaviors.irsjobsShareThisCollapseToggler = {\n    attach:function(context,settings){\n      setTimeout(function(){\n        if($('.USAJobs.page.by-date').length && $('.actions ul.action-items').length ){\n          $('.actions ul.action-items').removeClass('no-js');\n          // Due to Drupal Behaviors reloading on dynamic Ajax events we always unbind any previous functionality\n          $(\".actions ul.action-items li.social-sharing\").addClass('.toggle').unbind().bind('click',function(){\n            $(this).parent().parent().find('.sharethis').toggle('drop',250, false);\n          });\n        }\n      },500);\n    }\n  };\n\n  Drupal.behaviors.irsjobsShareThisHomepageToggler = {\n    attach:function(context,settings){\n      if($('#block-views-usajobs-block-2').length){\n        $('#sharethis-trigger').unbind().bind('click',function(event){\n          event.preventDefault();\n          $('.sharethis-wrapper').toggle('drop',250, false);\n        });\n      }\n    }\n  };\n\n  // Careers Filter Pass Info To Contact Form Behavior\n  //\n  // When the contact action item is clicked on career page filter results,\n  // the job information and selection is passed to the contact form and the\n  // form slides into view.\n  Drupal.behaviors.irsjobsCareersFilterPassInfoToContactForm = {\n    attach: function(context, settings) {\n      if ($('.USAJobs.page.by-date').length\n      &&  $('.actions ul.action-items .contact').length) {\n        // Due to Drupal Behaviors reloading on dynamic Ajax events we always\n        // unbind any previous functionality.\n        $('.actions ul.action-items .contact').unbind()\n          .bind('click',function() {\n            $(this).toggleClass('active');\n\n            // Grab Job Information\n            var eleParentRow = $(this).parents('.views-table tbody tr.odd, .views-table tbody tr.even');\n            var strOfficeLocation = $(eleParentRow).find('td.views-field-php').text().trim();\n            var strAnnouncementNumber = $(eleParentRow).find('td.position [data-guid]').attr('data-guid');\n            var strInterestStatement =\n              'I am currently interested in the open position of '\n              + $(eleParentRow).find('td.position').text().trim()\n              + ' at the location of '\n              + strOfficeLocation\n              + '. Please contact me with more information regarding this opportunity.';\n\n            if ($('#block-webform-client-block-404').length) {\n              var target = $('#block-webform-client-block-404');\n\n              // Set Form Properties\n\n              // Set the Contact Purpose form element value\n              $(target).find('select[name*=\"purpose\"]').val('1');\n              $(target).find('select[name*=\"purpose\"]').trigger(\"change\");\n\n              // Set the Announcement ID form element value\n              $(target).find('select[name*=\"open_job_ids\"]').val(strAnnouncementNumber);\n\n              // Set the Office Location form element value\n              if (strOfficeLocation.match(/multiple/ig)) {\n                $(target).find('select[name*=\"job_locations\"]')\n                  .append($('<option value=\"-1\">Multiple Locations</option>'))\n                  .val(-1);\n              }\n              $(target).find('select[name*=\"job_locations\"] option')\n                .each(function(){\n                  var tmpStoredCity = strOfficeLocation.split(',')[0];\n                  var tmpCityList = $(this).text().split(',')[0];\n                  if (tmpStoredCity == tmpCityList) {\n                    $(target).find('select[name*=\"job_locations\"]')\n                      .val($(this).val());\n                  }\n                });\n\n              // Set the Contact Question form element value\n              $(target).find('[name*=\"question_or_comment\"]')\n                .val(strInterestStatement);\n\n              // Animate Form Slideout\n              if ($(window).width() <= breakpoint) {\n                $('#block-webform-client-block-404.mobile').css({\n                  'transform': 'translateX(0)'\n                });\n              }\n              else {\n                $('.l-page').animate({\n                  left: parseInt($('.l-page').css('left'),10) == 0 ? - $(target).outerWidth() : 0\n                });\n              }\n            }\n          });\n      }\n    }\n  };\n\n  // Front Page Career Share Toggle Behavior\n  //\n  // Displays social media icons to share a job on the random featured job\n  // view block on the front page.\n  Drupal.behaviors.irsjobsFrontPageCareerShareToggle = {\n    attach: function(context, settings) {\n      if ($('#block-views-usajobs-block-2').length > 0) {\n        $('#sharethis-trigger').unbind()\n          .bind('click', function(event) {\n            event.preventDefault();\n            $('.sharethis-wrapper').toggle('drop', 250, false);\n          });\n      }\n    }\n  };\n\n  // Subpage Navigation Behavior\n  //\n  // Moves the active page link in the subpage navigation menu to the top\n  // of the menu on desktop devices. For mobile, adds a default item used to\n  // open and close the menu.\n  Drupal.behaviors.irsjobsSubpageNavigation = {\n    attach: function(context, settings) {\n      var menuBlock = $('.block--menu-block-1, .block--menu-block-3');\n\n      if (menuBlock.length > 0) {\n        var menu       = menuBlock.find('.menu');\n        var activeLink = menu.find('.leaf.active');\n\n        // Mobile devices\n        if ($(window).width() <= breakpoint) {\n          // Remove first class from menu\n          menu.find('.first').removeClass('first');\n\n          // Add defaultItem to menu\n          $(document.createElement('li'))\n            .html('<a class=\"default-item\">Select a Page</a>')\n            .addClass('first leaf')\n            .prependTo(menu);\n\n          var defaultItem = menu.find('.leaf.first');\n\n          // Click defaultItem to open and close menu\n          $(defaultItem).bind('click', function(event) {\n            event.preventDefault();\n            $(this).parent().toggleClass('open');\n          });\n        }\n        // Laptop and Desktop devices\n        else {\n          // Move activeLink to top of menu\n          if (activeLink.length > 0) {\n            menu.find('.leaf.first')\n              .removeClass('first');\n\n            activeLink.prependTo(menu)\n              .addClass('first');\n          }\n        }\n      }\n    }\n  };\n\n  // Overview List Equal Card Heights Behavior\n  //\n  // Searches the page for a view that uses the overview-list mixin,\n  // calculates the maximum height of the cards in one row, and\n  // updates the heights of both cards in the row.\n  Drupal.behaviors.irsjobsOverviewListEqualCardHeights = {\n    attach: function(context, settings) {\n      var timeout;\n\n      function resizeCards(context) {\n        // Only blocks that need this have the featured-pages\n        // or office-locations classes in the containing view.\n        var supportedBlocks = $('.featured-pages, .office-locations', context);\n\n        if (supportedBlocks.length > 0) {\n          var cardHeights = [];\n          var cardContainers = supportedBlocks.find('li.flip');\n\n          if ($(window).width() > breakpoint) {\n            cardContainers.each(function() {\n              var minHeight = $(this).height();\n\n              var frontHeight = 0;\n              $(this).find('.face.front')\n                .children()\n                .each(function() {\n                  frontHeight += $(this).outerHeight(true);\n                });\n\n              var backHeight = 0;\n              $(this).find('.face.back')\n                .children()\n                .each(function() {\n                  backHeight += $(this).outerHeight(true);\n                });\n\n\n              var maxHeight = Math.max(frontHeight,\n                                       backHeight);\n\n              var height = Math.max(maxHeight,\n                                    minHeight);\n\n              cardHeights.push(height);\n            });\n\n            for (var i = 0; i < cardHeights.length; i += 2) {\n              var leftCardHeight  = cardHeights[i];\n              var rightCardHeight = cardHeights[i + 1];\n\n              var finalHeight = Math.max(leftCardHeight,\n                                         rightCardHeight);\n\n              $(cardContainers[i]).height(finalHeight);\n              $(cardContainers[i + 1]).height(finalHeight);\n            }\n\n            // Resize last card if alone in row\n            if (i % 2 == 1) {\n              var minHeight   = $(cardContainers).last().height();\n              var indexLast   = cardHeights.length - 1;\n              var innerHeight = cardHeights[indexLast];\n\n              if (innerHeight > minHeight) {\n                $(cardContainers).last().height(innerHeight);\n              }\n            }\n          }\n          else {\n            $(cardContainers).height(\"auto\");\n          }\n        }\n      }\n\n      $(window).bind('load', function() {\n        resizeCards(context);\n      });\n\n      $(window).bind('resize', function() {\n        clearTimeout(timeout);\n        timeout = setTimeout(resizeCards(context), 150);\n      });\n    }\n  };\n})(jQuery);\n","(function ($) {\n\nDrupal.behaviors.irsjobsAccessibleNav = {\n\tattach: function(context, settings) {\n\n\t\t// Adds classes to parent LI tags on focus and blur\n\t\t$('body', context).once('irsjobsAccessibleNav', function() {\n\t\t\t$navigation = $('.block--system-main-menu');\n\n\t\t\t$navigation.find('a').each(function(){\n\t\t\t\t// $(this).bind('blur', function(){\n\t\t\t\t// \t$(this).parent('li').toggleClass('active-focus');\n\t\t\t\t// });\n\n\t\t\t\t// $(this).bind('focus', function(){\n\t\t\t\t// \t$(this).parent('li').toggleClass('active-focus');\n\t\t\t\t// });\n\t\t\t});\n\t\t});\n\t}\t\n};\n\n})(jQuery);\n"," (function ($) {\n\n  // Google Analytics Events Tracker\n  //\n  // Tracks events on various page interactions\n  // and reports to google analytics\n\n\n    Drupal.behaviors.irsjobsCareerPathEventTracker = {\n    attach: function(context, settings) {\n      $('#block-irs-calculators-fit-check', context).once('irsjobsCareerPathEventTracker', function(){\n        if($('#career-path-start').length > 0) {\n          $('#career-path-start').click(function() {\n            ga('send', 'event', 'Career Tools: FitCheck', 'Click', 'FitCheck Started')\n          });\n        }\n      });\n    }\n  };\n\n  Drupal.behaviors.irsjobsFooterLinksFacebookTracker = {\n    attach: function(context, settings) {\n      $('#footer', context).once('irsjobsFooterLinksFacebookTracker', function(){\n        if($('#facebook').length > 0) {\n          $('#facebook').click(function() {\n            ga('send', 'event', 'Social Media: Footer', 'Click', 'Facebook')\n          });\n        }\n      });\n    }\n  };\n\n  Drupal.behaviors.irsjobsFooterLinksGovLoopTracker = {\n    attach: function(context, settings) {\n      $('#footer', context).once('irsjobsFooterLinksGovLoopTracker', function(){\n        if($('#govloop').length > 0) {\n          $('#govloop').click(function() {\n            ga('send', 'event', 'Social Media: Footer', 'Click', 'GovLoop')\n          });\n        }\n      });\n    }\n  };\n\n  Drupal.behaviors.irsjobsFooterLinksYouTubeTracker = {\n    attach: function(context, settings) {\n      $('#footer', context).once('irsjobsFooterLinksYouTubeTracker', function(){\n        if($('#youtube').length > 0) {\n          $('#youtube').click(function() {\n            ga('send', 'event', 'Social Media: Footer', 'Click', 'YouTube')\n          });\n        }\n      });\n    }\n  };\n\n  Drupal.behaviors.irsjobsFooterLinksLinkedInTracker = {\n    attach: function(context, settings) {\n      $('#footer', context).once('irsjobsFooterLinksLinkedInTracker', function(){\n        if($('#linkedin').length > 0) {\n          $('#linkedin').click(function() {\n            ga('send', 'event', 'Social Media: Footer', 'Click', 'LinkedIn')\n          });\n        }\n      });\n    }\n  };\n\n  Drupal.behaviors.irsjobsFooterLinksTwitterTracker = {\n    attach: function(context, settings) {\n      $('#footer', context).once('irsjobsFooterLinksTwitterTracker', function(){\n        if($('#twitter').length > 0) {\n          $('#twitter').click(function() {\n            ga('send', 'event', 'Social Media: Footer', 'Click', 'Twitter')\n          });\n        }\n      });\n    }\n  };\n\n})(jQuery);","// Behaviors usign the matchHeight jQuery plugin\n\n(function ($) {\n  // Tablet breakpoint must match $tablet in Sass\n  var breakpoint = 720; // px\n\n  // Main Menu Match Height Behavior\n  //\n  // Updates the heights of each section in the main menu to match.\n  Drupal.behaviors.irsjobsMainMenuMatchHeight = {\n    attach: function(context, settings) {\n      setTimeout(function() {\n        var mainMenu = $('.block--system-main-menu', context);\n\n        if (mainMenu.length > 0\n        &&  $(window).width() > breakpoint) {\n          var primaryLinks = $(mainMenu)\n            .children('ul.menu').children('li');\n\n          primaryLinks.each(function(index) {\n            var dropdown = $(this).children('ul.menu');\n            var sections = $(dropdown).children('li');\n\n            // Open dropdown\n            $(dropdown).css({\n              'display'   : 'block',\n              'visibility': 'hidden'\n            });\n\n            // Only select the first two sectons in the Resources dropdown\n            if (index === 3) {\n              // Select first two sections\n              $(dropdown).children('li:nth-child(-n+2)').matchHeight();\n            }\n            else {\n              sections.matchHeight();\n            }\n\n            // Revert JS added dropdown style\n            $(dropdown).removeAttr('style');\n          });\n        }\n      }, 500);\n    }\n  };\n\n  // Interactive Map Buttons Match Height Behavior\n  //\n  // Updates the heights of each footer button in the interactive map to match.\n  Drupal.behaviors.irsjobsInteractiveMapButtonsMatchHeight = {\n    attach: function (context, settings) {\n      var mapBlock = $('.block--views-office-locations-block', context);\n\n      if (mapBlock.length > 0\n      &&  $(window).width() > breakpoint) {\n        var buttons = $(mapBlock).find('.location .field-content span');\n        buttons.matchHeight();\n      }\n    }\n  };\n})(jQuery);\n","(function ($) {\n  // Drupal Theme Function for HTML Output\n  Drupal.theme.prototype.irsjobsMainMenu =\n    function(menuItems, searchForm, logoLink, homeText) {\n      var output = '';\n      output += '<div class=\"block block--mobile-navigation\">';\n\n      output += '<header class=\"block--mobile-navigation__header\">';\n      output += '<button type=\"button\" class=\"js-menu-trigger sliding-panel-button\">';\n      output += '<i class=\"fa fa-bars\"></i><span>Click for Mobile Navigation</span>';\n      output += '</button>';\n\n      output += '<div class=\"mobile-branding\">';\n      output += '<a href=\"/\" title=\"' + homeText + '\" rel=\"home\" class=\"site-logo\">';\n      output += '<img src=\"' + logoLink + '\" alt=\"' + homeText + '\" />'\n      output += '</a>';\n      output += '</div>';\n\n      output += '<button type=\"button\" class=\"js-search-trigger search-form-button\">';\n      output += '<i class=\"fa fa-search\"></i><span>Click for Search</span>';\n      output += '</button>';\n      output += '</header>';\n\n      output += '<div class=\"mobile-search-form-container\">' + searchForm + '</div>';\n\n      output += '<nav class=\"menu menu--mobile-navigation js-menu sliding-panel-content\">';\n      output += '<button type=\"button\" class=\"sliding-panel-close\">';\n      output += '<i class=\"fa fa-times fa-2\"></i>';\n      output += '<span>Close Mobile Navigation</span>';\n      output += '</button>';\n      output += menuItems;\n      output += '</nav>';\n\n      output += '<div class=\"js-menu-screen sliding-panel-fade-screen\"></div>';\n\n      output += '</div>';\n\n      return $(output);\n    };\n\n  // Drupal Javascript Behavior\n  Drupal.behaviors.irsjobsMobileNavigation = {\n    attach: function(context, settings) {\n      // Prepend to the DOM and apply responsive behavior\n      $('body', context).once('irsjobsMobileNavigation', function() {\n        // Retrieve Dynamic Data\n        var menuItems = Drupal.theme('irsjobsMainMenu',\n                                      settings.irsjobsMobileNavigation,\n                                      settings.irsjobsMobileSearch,\n                                      settings.irsjobsMobileBranding,\n                                      settings.irsjobsMobileHomeText);\n\n        // Set all tabindex for all links so they aren't navigated by tab\n        menuItems.find('.menu--mobile-navigation a').attr(\"tabindex\", \"-1\");\n\n        // Add placeholder attribute to form text input\n        menuItems.find('.form-text').attr('placeholder', 'Search');\n        menuItems.prependTo(this);\n\n        // Add contact form link to Primary Sliding Panel\n        var primaryList = $('.sliding-panel-content > ul.menu');\n        primaryList.children().last().removeClass('last');\n\n        var contactFormItem = $(document.createElement('li'));\n        contactFormItem.html('<a class=\"menu-link--contact\" href=\"/contact-irs\" tabindex=\"-1\">Get In Touch</a>');\n        contactFormItem.addClass('leaf last');\n        contactFormItem.appendTo(primaryList);\n\n\n        // Add event listeners\n\n        // Primary Sliding Panel (1st Level Links)\n        $('.sliding-panel-button, .sliding-panel-fade-screen, .sliding-panel-close')\n          .bind('click touchstart', function(event) {\n            event.preventDefault();\n            $('.sliding-panel-content, .sliding-panel-fade-screen')\n              .toggleClass('is-visible');\n          });\n\n        // Subsidary Sliding Panels (nth Level Links)\n        $('.sliding-panel-content > ul.menu li.expanded').each(function() {\n          var elementParentLink = $(this).find('> a');\n          var elementChildMenu  = $(this).find('> ul.menu');\n\n          var elementChildMenuParentLink =\n            $(elementParentLink).clone();\n          var elementBacktoParent =\n            $('<li><a href=\"#\" class=\"back-nav\" tabindex=\"-1\">Back</a></li>');\n\n          // Add Menu Parent Link to Child Links for Landing Page Access\n          $(elementChildMenuParentLink).prependTo($(elementChildMenu)).wrap('<li>');\n\n          // Add Back Navigation to Child Links\n          $(elementBacktoParent).appendTo($(elementChildMenu));\n\n          // Enable Flyout Subnavigation Toggle\n          $(elementParentLink).bind('click touchstart', function(event) {\n            event.preventDefault();\n            $(this).parent('li')\n              .toggleClass('is-visible');\n          });\n\n          $(elementBacktoParent).bind('click touchstart', function(event) {\n            event.preventDefault();\n            $(this).parent('ul').parent('li')\n              .toggleClass('is-visible');\n          });\n        });\n\n        // Search Form\n        $('.search-form-button')\n          .bind('click', function(event) {\n            event.preventDefault();\n            $('.mobile-search-form-container')\n              .toggleClass('is-visible');\n          });\n\n        // Mobibe Contact Form\n        contactFormItem.bind('click', function(event) {\n          event.preventDefault();\n          $('#block-webform-client-block-404.mobile').css({\n            'transform': 'translateX(0)'\n          });\n        });\n      });\n    }\n  };\n})(jQuery);\n"]}